@if (_loading)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
}
else
{
    <MudDataGrid MultiSelection="true" Items="@_categories" Sortable="true" Filterable="true" QuickFilter="@QuickFilter">
        <ToolBarContent>
            <MudText Typo="Typo.h6">Categories</MudText>
            <MudSpacer />
            <MudTextField @bind-Value="_searchString" Placeholder="Search" Adornment="Adornment.Start" Immediate="true"
                      AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
        </ToolBarContent>
        <Columns>
            <Column T="Category" Field="Name" Title="Name">
                <CellTemplate>
                  <MudIconButton Color="Color.Primary" OnClick="@(()=> CategoryUpdate(context))" Icon="@Icons.Outlined.Settings" Size="Size.Small" Variant="Variant.Outlined" />  @context.Name
                </CellTemplate>
            </Column>
            <Column T="Category" Field="NamePl" Title="NamePl"/>
            <Column T="Category" Field="Description" Title="Description"/>
            <Column T="Category" Field="DescriptionPl" Title="DescriptionPl"/>
        </Columns>
        <PagerContent>
            <MudDataGridPager T="Category" />
        </PagerContent>
    </MudDataGrid>
}